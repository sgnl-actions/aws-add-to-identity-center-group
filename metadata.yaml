name: aws-add-to-identity-center-group
description: Add a user to an AWS Identity Center (SSO) group

# Input parameters for web form generation
inputs:
  userName:
    type: text
    description: The username of the user to add to the group
    required: true
    validation:
      min: 1
      max: 128

  identityStoreId:
    type: text
    description: The Identity Store ID (e.g., d-1234567890)
    required: true
    validation:
      min: 1
      max: 64

  groupId:
    type: text
    description: The ID of the group to add the user to
    required: true
    validation:
      min: 1
      max: 47

  region:
    type: text
    description: AWS region (e.g., us-east-1)
    required: true
    validation:
      min: 1
      max: 30

# Expected output structure
outputs:
  userName:
    type: text
    description: The username that was added

  groupId:
    type: text
    description: The group ID the user was added to

  userId:
    type: text
    description: The resolved user ID from the username

  membershipId:
    type: text
    description: The ID of the created group membership

  added:
    type: boolean
    description: Whether the user was successfully added

  addedAt:
    type: datetime
    description: When the addition completed (ISO 8601)

# Required secrets (configured at deployment time)
secrets:
  - AWS_ACCESS_KEY_ID
  - AWS_SECRET_ACCESS_KEY

# Runtime configuration
runtime:
  type: nodejs-22
  timeout: 30s
  memory: 128Mi